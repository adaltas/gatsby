import c from"@sindresorhus/slugify";import{toString as f}from"mdast-util-to-string";import{visit as p}from"unist-util-visit";import{is_object_literal as l}from"mixme";var O=function({depth_min:t=1,depth_max:n=3,property:r=["toc"]}={}){return typeof r=="string"&&(r=[r]),function(o,i){let a=[];p(o,"heading",function(e){if(e.depth<t||e.depth>n)return;let s=f(e.children);s&&a.push({title:s,depth:e.depth,anchor:c(s)})}),m(i.data,r,a,!1)}},y=O,d=(t,n,r=!1)=>{for(let o of n)if(Object.prototype.hasOwnProperty.call(t,o))t=t[o];else{if(r)throw Error("REMARK_TABLE_OF_CONTENT: property does not exists in strict mode.");return}return t},m=(t,n,r,o=!1)=>{if(t===null||typeof t!="object")throw Error("REMARK_TABLE_OF_CONTENT: argument is not an object.");for(let i=0;i<n.length;i++){let a=i===n.length-1,e=n[i];if(a)Object.prototype.hasOwnProperty.call(t,e)?o&&(t[e]=r):t[e]=r;else if(Object.prototype.hasOwnProperty.call(t,e))if(l(t[e]))t=t[e];else throw Error("REMARK_TABLE_OF_CONTENT: cannot overwrite parent property.");else t[e]={},t=t[e]}};export{y as default,d as get,m as set};
